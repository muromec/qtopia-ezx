<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QAbstractCallPolicyManager Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top"><img src="images/codeless.png" align="right" border="0" /></td></tr></table><h1 class="title">QAbstractCallPolicyManager Class Reference</h1>
<p>The QAbstractCallPolicyManager class provides an interface for the management of calls across multiple call types. <a href="#details">More...</a></p>
<pre>    #include &lt;QAbstractCallPolicyManager&gt;</pre><p>Inherits <a href="qobject.html">QObject</a>.</p>
<p>Inherited by <a href="asteriskmanager.html">AsteriskManager</a>, <a href="cellmodemmanager.html">CellModemManager</a>, and <a href="voipmanager.html">VoIPManager</a>.</p>
<ul>
<li><a href="qabstractcallpolicymanager-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="qabstractcallpolicymanager.html#CallHandling-enum">CallHandling</a></b> { CannotHandle, CanHandle, MustHandle, NeverHandle }</li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qabstractcallpolicymanager.html#QAbstractCallPolicyManager">QAbstractCallPolicyManager</a></b> ( QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/>virtual QString <b><a href="qabstractcallpolicymanager.html#callType">callType</a></b> () const = 0</li>
<li><div class="fn"/>virtual QString <b><a href="qabstractcallpolicymanager.html#callTypeIcon">callTypeIcon</a></b> () const = 0</li>
<li><div class="fn"/>virtual QAbstractCallPolicyManager::CallHandling <b><a href="qabstractcallpolicymanager.html#handling">handling</a></b> ( const QString &amp; <i>number</i> ) = 0</li>
<li><div class="fn"/>virtual bool <b><a href="qabstractcallpolicymanager.html#isAvailable">isAvailable</a></b> ( const QString &amp; <i>number</i> ) = 0</li>
<li><div class="fn"/>virtual QString <b><a href="qabstractcallpolicymanager.html#registrationIcon">registrationIcon</a></b> () const = 0</li>
<li><div class="fn"/>virtual QString <b><a href="qabstractcallpolicymanager.html#registrationMessage">registrationMessage</a></b> () const = 0</li>
<li><div class="fn"/>virtual QTelephony::RegistrationState <b><a href="qabstractcallpolicymanager.html#registrationState">registrationState</a></b> () const = 0</li>
<li><div class="fn"/>virtual QString <b><a href="qabstractcallpolicymanager.html#trCallType">trCallType</a></b> () const = 0</li>
</ul>
<ul>
<li><div class="fn"/>29 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="signals"></a>
<h3>Signals</h3>
<ul>
<li><div class="fn"/>void <b><a href="qabstractcallpolicymanager.html#registrationChanged">registrationChanged</a></b> ( QTelephony::RegistrationState <i>state</i> )</li>
</ul>
<ul>
<li><div class="fn"/>1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QAbstractCallPolicyManager class provides an interface for the management of calls across multiple call types.</p>
<p>When the user enters a number or URI to be dialed, or selects one from their list of contacts, Qtopia needs to decide how to place and manage the call. This decision can be quite complex when multiple call types (e.g&#x2e; GSM and VoIP) are registered with the system. Some examples are:</p>
<ul>
<li>Emergency numbers such as 112 and 911 must be placed via a cellular network because VoIP network typically won't have the facility.</li>
<li>Ordinary numbers could be placed via either GSM or VoIP, if the user's configured VoIP server can carry PSTN traffic, and the user is in range of a VoIP-capable access point.</li>
<li>If the &quot;number&quot; is actually a SIP URI, it can only be placed via VoIP.</li>
</ul>
<p>The purpose of the QAbstractCallPolicyManager class is to allow these decisions to be separated from the core Qtopia code, and to ease the integration of new call types in the future.</p>
<p>This class is part of the Qtopia server and cannot be used by other Qtopia applications.</p>
<p>See also <a href="cellmodemmanager.html">CellModemManager</a> and <a href="voipmanager.html">VoIPManager</a>.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="CallHandling-enum"></a>enum QAbstractCallPolicyManager::CallHandling</h3>
<p>This enum defines how to handle a call that is about to be placed, based on the number to be dialed.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QAbstractCallPolicyManager::CannotHandle</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">The number cannot be handled by this policy manager at all, or network registration is not available so it cannot be handled at this time.</td></tr>
<tr><td valign="top"><tt>QAbstractCallPolicyManager::CanHandle</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">The call can be handled by this policy manager. If multiple policy managers return this value, the user will be given a choice of call types before the call is placed.</td></tr>
<tr><td valign="top"><tt>QAbstractCallPolicyManager::MustHandle</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">The call must be handled by this policy manager, and all other policy managers that return <tt>CanHandle</tt> should be ignored. This is typically used for emergency calls that must be placed via a specific network (e.g&#x2e; GSM). It could also be returned if the user has configured a specific policy manager as their preferred call type.</td></tr>
<tr><td valign="top"><tt>QAbstractCallPolicyManager::NeverHandle</tt></td><td align="center" valign="top"><tt>3</tt></td><td valign="top">The call must never be handled by any policy manager. The call will be rejected. This is typically used for emergency calls when the device is in airplane mode. The policy manager would normally return <tt>MustHandle</tt>, but cannot right now.</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QAbstractCallPolicyManager"></a>QAbstractCallPolicyManager::QAbstractCallPolicyManager ( <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Create a new call policy manager and attach it to <i>parent</i>.</p>
<h3 class="fn"><a name="callType"></a><a href="qstring.html">QString</a> QAbstractCallPolicyManager::callType () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the call type that will be used to create the <a href="qphonecall.html">QPhoneCall</a> object with <a href="qphonecallmanager.html#create">QPhoneCallManager::create</a>().</p>
<p>See also <a href="qabstractcallpolicymanager.html#trCallType">trCallType</a>() and <a href="qabstractcallpolicymanager.html#callTypeIcon">callTypeIcon</a>().</p>
<h3 class="fn"><a name="callTypeIcon"></a><a href="qstring.html">QString</a> QAbstractCallPolicyManager::callTypeIcon () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the icon to display to indicate the call type. This is typically displayed next to the <a href="qabstractcallpolicymanager.html#trCallType">trCallType</a>() text.</p>
<p>See also <a href="qabstractcallpolicymanager.html#callType">callType</a>() and <a href="qabstractcallpolicymanager.html#trCallType">trCallType</a>().</p>
<h3 class="fn"><a name="handling"></a><a href="qabstractcallpolicymanager.html#CallHandling-enum">QAbstractCallPolicyManager::CallHandling</a> QAbstractCallPolicyManager::handling ( const <a href="qstring.html">QString</a> &amp; <i>number</i> )&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Determine how to handle calls to <i>number</i>.</p>
<h3 class="fn"><a name="isAvailable"></a>bool QAbstractCallPolicyManager::isAvailable ( const <a href="qstring.html">QString</a> &amp; <i>number</i> )&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>If the call policy manager supports presence, determine if the party at <i>number</i> is currently available. If the call policy manager does not support presence, this function should always return true.</p>
<h3 class="fn"><a name="registrationChanged"></a>void QAbstractCallPolicyManager::registrationChanged ( <a href="qtelephony.html#RegistrationState-enum">QTelephony::RegistrationState</a> <i>state</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>Signal that is emitted when the registration <i>state</i> of the telephony service being used by this call policy manager changes.</p>
<p>See also <a href="qabstractcallpolicymanager.html#registrationState">registrationState</a>(), <a href="qabstractcallpolicymanager.html#registrationMessage">registrationMessage</a>(), and <a href="qabstractcallpolicymanager.html#registrationIcon">registrationIcon</a>().</p>
<h3 class="fn"><a name="registrationIcon"></a><a href="qstring.html">QString</a> QAbstractCallPolicyManager::registrationIcon () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the name of an icon to display next to the <a href="qabstractcallpolicymanager.html#registrationMessage">registrationMessage</a>(), or an empty <a href="qstring.html">QString</a> for no icon.</p>
<p>See also <a href="qabstractcallpolicymanager.html#registrationChanged">registrationChanged</a>(), <a href="qabstractcallpolicymanager.html#registrationState">registrationState</a>(), and <a href="qabstractcallpolicymanager.html#registrationMessage">registrationMessage</a>().</p>
<h3 class="fn"><a name="registrationMessage"></a><a href="qstring.html">QString</a> QAbstractCallPolicyManager::registrationMessage () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns a human-readable message to be displayed to indicate the current registration state of the telephony service being used by this call policy manager. This function is called whenever the registration state changes.</p>
<p>Returns an empty <a href="qstring.html">QString</a> if the call policy manager does not wish to have a message displayed. Messages are normally only displayed if the registration is not present, or the telephony service is searching for a new network to register to. Once successfully registered, the returned message should be empty.</p>
<p>See also <a href="qabstractcallpolicymanager.html#registrationChanged">registrationChanged</a>(), <a href="qabstractcallpolicymanager.html#registrationState">registrationState</a>(), and <a href="qabstractcallpolicymanager.html#registrationIcon">registrationIcon</a>().</p>
<h3 class="fn"><a name="registrationState"></a><a href="qtelephony.html#RegistrationState-enum">QTelephony::RegistrationState</a> QAbstractCallPolicyManager::registrationState () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the current registration state of the telephony service being used by this call policy manager.</p>
<p>See also <a href="qabstractcallpolicymanager.html#registrationChanged">registrationChanged</a>(), <a href="qabstractcallpolicymanager.html#registrationMessage">registrationMessage</a>(), and <a href="qabstractcallpolicymanager.html#registrationIcon">registrationIcon</a>().</p>
<h3 class="fn"><a name="trCallType"></a><a href="qstring.html">QString</a> QAbstractCallPolicyManager::trCallType () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the translated, human-readable, version of the call type.</p>
<p>See also <a href="qabstractcallpolicymanager.html#callType">callType</a>() and <a href="qabstractcallpolicymanager.html#callTypeIcon">callTypeIcon</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.4</div></td>
</tr></table></div></address></body>
</html>
